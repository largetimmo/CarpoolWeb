<script src="../js/jquery3.2.1.min.js"></script>
<script src="../js/bootstrap.min.js"></script>

<link href = "../css/bootstrap.min.css" rel="stylesheet">
<style>
    #result_content{
        padding-top: 60px;
    }
</style>
<script>
    $(document).ready(function () {
        $.get("/user/searchbooking?type=0",function (data) {
            var data_json = JSON.parse(data);
            if(data_json.code === 0){
                var label = document.createElement("label");
                label.setAttribute("class","label-primary");
                $(label).text("We cannot find any record of your booking.");
                var container = document.getElementsByClassName("container");
                container.appendChild(label);
            }else if(data_json.code === 1) {
                var record_array = data_json.record;
                for(var i = 0; i<record_array.length;i++){
                    var tr = document.createElement("tr");
                    var td_id = document.createElement("td");
                    var td_dep = document.createElement("td");
                    var td_des = document.createElement("td");
                    var td_seat = document.createElement("td");
                    var td_date = document.createElement("td");
                    var td_remainseat = document.createElement("td");
                    var td_price = document.createElement("td");
                    $(td_id).text(record_array[i].id);
                    $(td_dep).text(record_array[i].departure);
                    $(td_des).text(record_array[i].destination);
                    $(td_seat).text(record_array[i].capacity);
                    $(td_date).text(record_array[i].datetime);
                    $(td_remainseat).text(record_array[i].remain_seat);
                    $(td_price).text(record_array[i].price);
                    tr.appendChild(td_id);
                    tr.appendChild(td_dep);
                    tr.appendChild(td_des);
                    tr.appendChild(td_price);
                    tr.appendChild(td_seat);
                    tr.appendChild(td_remainseat);
                    tr.appendChild(td_date);
                    document.getElementById("table").appendChild(tr);
                }
            }
        })
    })
</script>
<div id = "result_content" >
    <div class="container">
        <table id = "table" class= "table table-bordered">
            <tr class="bg-primary">
                <th id = "id">ID</th>
                <th id = "departure">Departure</th>
                <th id = "destination">Destination</th>
                <th id = "price">Price</th>
                <th id = "seat">Seat(s)</th>
                <th id = "remainseat">Remain seat(s)</th>
                <th id = "date">Date</th>
            </tr>
        </table>
    </div>
</div>